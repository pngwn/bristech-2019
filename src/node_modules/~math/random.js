// @ts-check

export const range = (min, max, seed) => {
	if (max === undefined) {
		max = min;
		min = 0;
	}

	if (typeof min !== "number" || typeof max !== "number") {
		throw new TypeError("Expected all arguments to be numbers");
	}

	return (typeof seed === "number" ? seed : Math.random()) * (max - min) + min;
};

export const rangeFloor = (min, max, seed) => {
	if (max === undefined) {
		max = min;
		min = 0;
	}

	if (typeof min !== "number" || typeof max !== "number") {
		throw new TypeError("Expected all arguments to be numbers");
	}

	return Math.floor(range(min, max, seed));
};

export const pick = (array, seed) =>
	!array.length ? undefined : array[rangeFloor(0, array.length, seed)];

export const shuffle = (arr, seed) => {
	if (!Array.isArray(arr)) {
		throw new TypeError("Expected Array, got " + typeof arr);
	}

	let rand,
		tmp,
		len = arr.length,
		ret = arr.slice();

	while (len) {
		rand = Math.floor(
			(typeof seed === "number" ? seed : Math.random()) * len--,
		);
		tmp = ret[len];
		ret[len] = ret[rand];
		ret[rand] = tmp;
	}
	return ret;
};
